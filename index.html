<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Windows Update</title>
    <style>
        body {
            background-color: #000; /* 最初は真っ黒 */
            color: white;
            font-family: "Segoe UI", sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            cursor: pointer;
            overflow: hidden;
            user-select: none;
        }

        #update-screen { display: none; text-align: center; cursor: none; }

        .loader {
            width: 50px; height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-left-color: #fff;
            border-radius: 50%;
            animation: spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
            margin: 0 auto 35px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        h1 { font-weight: 400; font-size: 2.2vw; margin: 0; }
        p { font-weight: 300; font-size: 1.1vw; margin-top: 15px; }
        .troll { position: fixed; bottom: 5px; right: 5px; font-size: 8px; color: rgba(255,255,255,0.05); }
    </style>
</head>
<body onclick="startPrank()">

    <!-- クリック前：カモフラージュ -->
    <div id="init-msg" style="color: #333; font-size: 14px;">Loading content...</div>

    <!-- クリック後：本番画面 -->
    <div id="update-screen">
        <div class="loader"></div>
        <h1>Working on updates</h1>
        <p><span id="percent">0</span>% complete</p>
        <p>Please keep your computer on.</p>
    </div>

    <div class="troll">THIS IS A TROLL</div>

    <script>
        function startPrank() {
            // フルスクリーン要求
            const doc = document.documentElement;
            if (doc.requestFullscreen) doc.requestFullscreen();
            else if (doc.webkitRequestFullscreen) doc.webkitRequestFullscreen();

            // 画面切り替え
            document.getElementById('init-msg').style.display = 'none';
            document.getElementById('update-screen').style.display = 'block';
            document.body.style.backgroundColor = '#0078d7';
            document.body.style.cursor = 'none';

            updatePercent();
        }

        let percent = 0;
        function updatePercent() {
            if (percent < 99) {
                if (Math.random() > 0.8) {
                    percent += 1;
                    document.getElementById('percent').innerText = percent;
                }
                setTimeout(updatePercent, Math.random() * 3000 + 500);
            }
        }

        // 閉じようとすると警告を出す
        window.onbeforeunload = function() { return "Updating..."; };
    </script>
</body>
</html>
